<html><head></head><body><dom-module id="shopping-list-item-add"><template><style>:host{display:block;padding:8px 8px;}paper-card{width:100%;padding:8px;}</style><iron-location id="ironLocation"></iron-location><paper-card heading="New List Item"><iron-form id="listItemAddForm"><input id="id" name="id" type="hidden" value="[[listItemId]]"><paper-input id="title" name="title" label="Title" value="{{title}}" required="" autofocus=""></paper-input><paper-button on-click="_submit" id="listItemAddFormSubmit" raised="">Save</paper-button></iron-form></paper-card></template><script>var ShoppingListItemAdd=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:"_routeChanged",value:function(d){"/item-add"!==d.base.prefix||this._setListItemId(d.base.path.replace(/\//g,""))}},{key:"_submit",value:function(){var d=this;this.shoppingListRepository.get(this.listItemId).then(function(e){var f=d.shoppingListFactory.newShoppingListItem({title:d.title},e);return d.shoppingListRepository.putItem(f)}).then(function(){d.$.listItemAddForm.reset(),d.title=void 0,d.$.ironLocation.hash=d.rootPath+"items/"+d.listItemId})}}],[{key:"is",get:function(){return"shopping-list-item-add"}},{key:"observers",get:function(){return["_routeChanged(route.*)"]}},{key:"properties",get:function(){return{shoppingListFactory:{type:Object,readOnly:!0,notify:!1,value:function(){return new ShoppingListModel.ShoppingListFactory}},db:{type:Object,readOnly:!0,notify:!1,value:function(){return new PouchDB("shopping-list")}},shoppingListRepository:{type:Object,readOnly:!0,notify:!1,value:function(){return new ShoppingListModel.ShoppingListRepositoryPouchDB(this.db)}},listItemId:{type:String,readOnly:!0,notify:!0},title:{type:String,notify:!0}}}}]),b}(Polymer.Element);window.customElements.define(ShoppingListItemAdd.is,ShoppingListItemAdd);</script></dom-module></body></html>